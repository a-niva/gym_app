<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equipment Selection Redesign</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* Equipment Categories */
        .equipment-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin-bottom: 40px;
        }

        .equipment-category {
            position: relative;
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            border: 2px solid transparent;
            border-radius: 20px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .equipment-category::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #3b82f6, #8b5cf6, #ec4899);
            border-radius: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .equipment-category:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.2);
        }

        .equipment-category.selected::before {
            opacity: 1;
        }

        .equipment-category.selected {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
        }

        .equipment-icon {
            width: 60px;
            height: 60px;
            margin-bottom: 12px;
            position: relative;
        }

        .equipment-icon svg {
            width: 100%;
            height: 100%;
            stroke: #64748b;
            transition: all 0.3s ease;
        }

        .equipment-category.selected .equipment-icon svg {
            stroke: #fff;
            filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.6));
        }

        .equipment-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .equipment-status {
            font-size: 12px;
            color: #64748b;
            transition: all 0.3s ease;
        }

        .equipment-category.selected .equipment-status {
            color: #3b82f6;
        }

        /* Detailed Configuration */
        .config-panel {
            background: #111;
            border-radius: 24px;
            padding: 32px;
            margin-bottom: 24px;
            opacity: 0;
            transform: translateY(20px);
            animation: slideIn 0.5s forwards;
        }

        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .config-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
        }

        .config-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
        }

        .config-icon svg {
            width: 28px;
            height: 28px;
            stroke: #fff;
        }

        .config-title {
            font-size: 24px;
            font-weight: 700;
        }

        /* Weight Grid */
        .weight-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 12px;
            margin-bottom: 24px;
        }

        .weight-item {
            background: #1a1a1a;
            border: 2px solid #2a2a2a;
            border-radius: 16px;
            padding: 16px;
            text-align: center;
            position: relative;
            transition: all 0.2s ease;
        }

        .weight-item:hover {
            border-color: #3b82f6;
            transform: scale(1.05);
        }

        .weight-value {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #fff, #cbd5e1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .weight-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 8px;
            color: #fff;
            text-align: center;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .weight-input:focus {
            outline: none;
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
        }

        /* Add Custom Button */
        .add-custom {
            background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
            border: 2px dashed #3b82f6;
            border-radius: 16px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 88px;
        }

        .add-custom:hover {
            background: rgba(59, 130, 246, 0.1);
            transform: scale(1.05);
        }

        .add-custom svg {
            width: 32px;
            height: 32px;
            stroke: #3b82f6;
        }

        /* Elastic Bands */
        .band-item {
            display: flex;
            align-items: center;
            background: #1a1a1a;
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
            gap: 16px;
        }

        .band-color {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .band-color:hover {
            transform: scale(1.1);
        }

        .band-info {
            flex: 1;
        }

        .band-resistance {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .band-count {
            font-size: 14px;
            color: #64748b;
        }

        .band-remove {
            width: 36px;
            height: 36px;
            background: rgba(239, 68, 68, 0.1);
            border: 2px solid rgba(239, 68, 68, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .band-remove:hover {
            background: rgba(239, 68, 68, 0.2);
            transform: scale(1.1);
        }

        /* Bench Options */
        .bench-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .bench-option {
            background: #1a1a1a;
            border: 2px solid #2a2a2a;
            border-radius: 16px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .bench-option.active {
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
        }

        .bench-option.active::before {
            content: '✓';
            position: absolute;
            top: 12px;
            right: 12px;
            width: 24px;
            height: 24px;
            background: #3b82f6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
        }

        /* Visual Indicators */
        .progress-indicator {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: #1a1a1a;
            border: 2px solid #2a2a2a;
            border-radius: 20px;
            padding: 16px 24px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .progress-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .progress-text {
            font-size: 14px;
            color: #94a3b8;
        }

        .progress-count {
            font-size: 18px;
            font-weight: 700;
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="font-size: 32px; margin-bottom: 32px; text-align: center;">Configuration de votre équipement</h1>
        
        <!-- Equipment Categories -->
        <div class="equipment-categories">
            <div class="equipment-category" onclick="toggleCategory(this, 'barbell')">
                <div class="equipment-icon">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h8m-4-8v16"/>
                    </svg>
                </div>
                <div class="equipment-name">Barres & Disques</div>
                <div class="equipment-status">Non configuré</div>
            </div>

            <div class="equipment-category" onclick="toggleCategory(this, 'dumbbells')">
                <div class="equipment-icon">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"/>
                    </svg>
                </div>
                <div class="equipment-name">Haltères</div>
                <div class="equipment-status">Non configuré</div>
            </div>

            <div class="equipment-category" onclick="toggleCategory(this, 'bands')">
                <div class="equipment-icon">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                    </svg>
                </div>
                <div class="equipment-name">Élastiques</div>
                <div class="equipment-status">Non configuré</div>
            </div>

            <div class="equipment-category" onclick="toggleCategory(this, 'bench')">
                <div class="equipment-icon">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12h18m-9-9v18"/>
                    </svg>
                </div>
                <div class="equipment-name">Banc</div>
                <div class="equipment-status">Non configuré</div>
            </div>
        </div>

        <!-- Dynamic Configuration Panels -->
        <div id="configPanels"></div>

        <!-- Progress Indicator -->
        <div class="progress-indicator">
            <div class="progress-icon">
                <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
            </div>
            <div>
                <div class="progress-text">Équipements configurés</div>
                <div class="progress-count">0 / 4</div>
            </div>
        </div>
    </div>

    <script>
        let selectedCategories = new Set();
        let configurations = {
            barbell: { configured: false },
            dumbbells: { configured: false, weights: {} },
            bands: { configured: false, items: [] },
            bench: { configured: false, features: {} }
        };

        function toggleCategory(element, category) {
            element.classList.toggle('selected');
            
            if (element.classList.contains('selected')) {
                selectedCategories.add(category);
                showConfigPanel(category);
            } else {
                selectedCategories.delete(category);
                hideConfigPanel(category);
            }
            
            updateProgress();
        }

        function showConfigPanel(category) {
            const panelsContainer = document.getElementById('configPanels');
            let panel = document.getElementById(`panel-${category}`);
            
            if (!panel) {
                panel = createConfigPanel(category);
                panelsContainer.appendChild(panel);
            }
            
            setTimeout(() => {
                panel.style.display = 'block';
            }, 10);
        }

        function hideConfigPanel(category) {
            const panel = document.getElementById(`panel-${category}`);
            if (panel) {
                panel.style.opacity = '0';
                setTimeout(() => {
                    panel.remove();
                }, 300);
            }
        }

        function createConfigPanel(category) {
            const panel = document.createElement('div');
            panel.className = 'config-panel';
            panel.id = `panel-${category}`;
            
            switch(category) {
                case 'barbell':
                    panel.innerHTML = createBarbellConfig();
                    break;
                case 'dumbbells':
                    panel.innerHTML = createDumbbellsConfig();
                    break;
                case 'bands':
                    panel.innerHTML = createBandsConfig();
                    break;
                case 'bench':
                    panel.innerHTML = createBenchConfig();
                    break;
            }
            
            return panel;
        }

        function createBarbellConfig() {
            return `
                <div class="config-header">
                    <div class="config-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h8m-4-8v16"/>
                        </svg>
                    </div>
                    <h3 class="config-title">Configuration des barres et disques</h3>
                </div>
                
                <h4 style="margin-bottom: 16px; color: #94a3b8;">Disques disponibles</h4>
                <div class="weight-grid">
                    ${[20, 15, 10, 5, 2.5, 1.25, 0.5].map(weight => `
                        <div class="weight-item">
                            <div class="weight-value">${weight}kg</div>
                            <input type="number" class="weight-input" placeholder="0" min="0" max="10" 
                                   onchange="updateWeight('disques', ${weight}, this.value)">
                        </div>
                    `).join('')}
                    <div class="add-custom" onclick="addCustomWeight('disques')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                        </svg>
                    </div>
                </div>
            `;
        }

        function createDumbbellsConfig() {
            return `
                <div class="config-header">
                    <div class="config-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"/>
                        </svg>
                    </div>
                    <h3 class="config-title">Configuration des haltères</h3>
                </div>
                
                <div class="weight-grid">
                    ${[30, 25, 20, 15, 12, 10, 8, 6, 5, 4, 3, 2, 1].map(weight => `
                        <div class="weight-item">
                            <div class="weight-value">${weight}kg</div>
                            <input type="number" class="weight-input" placeholder="0" min="0" max="10" 
                                   onchange="updateWeight('dumbbells', ${weight}, this.value)">
                        </div>
                    `).join('')}
                    <div class="add-custom" onclick="addCustomWeight('dumbbells')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                        </svg>
                    </div>
                </div>
            `;
        }

        function createBandsConfig() {
            return `
                <div class="config-header">
                    <div class="config-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                    </div>
                    <h3 class="config-title">Configuration des élastiques</h3>
                </div>
                
                <div id="bandsList"></div>
                
                <div style="display: flex; gap: 12px; margin-top: 16px;">
                    <input type="color" id="bandColor" value="#ff6b6b" style="width: 60px; height: 40px; border: none; border-radius: 8px; cursor: pointer;">
                    <input type="number" id="bandResistance" placeholder="Résistance (kg)" class="weight-input" style="flex: 1;">
                    <input type="number" id="bandCount" placeholder="Nombre" value="1" min="1" class="weight-input" style="width: 80px;">
                    <button onclick="addBand()" style="padding: 0 24px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); border: none; border-radius: 12px; color: white; font-weight: 600; cursor: pointer;">Ajouter</button>
                </div>
            `;
        }

        function createBenchConfig() {
            return `
                <div class="config-header">
                    <div class="config-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12h18m-9-9v18"/>
                        </svg>
                    </div>
                    <h3 class="config-title">Configuration du banc</h3>
                </div>
                
                <div class="bench-options">
                    <div class="bench-option" onclick="toggleBenchFeature(this, 'flat')">
                        <h4 style="margin-bottom: 8px;">Banc plat</h4>
                        <p style="color: #64748b; font-size: 14px;">Position horizontale standard</p>
                    </div>
                    <div class="bench-option" onclick="toggleBenchFeature(this, 'incline')">
                        <h4 style="margin-bottom: 8px;">Inclinable</h4>
                        <p style="color: #64748b; font-size: 14px;">Angles positifs (15°, 30°, 45°...)</p>
                    </div>
                    <div class="bench-option" onclick="toggleBenchFeature(this, 'decline')">
                        <h4 style="margin-bottom: 8px;">Déclinable</h4>
                        <p style="color: #64748b; font-size: 14px;">Angles négatifs (-15°, -30°...)</p>
                    </div>
                    <div class="bench-option" onclick="toggleBenchFeature(this, 'adjustable')">
                        <h4 style="margin-bottom: 8px;">Dossier ajustable</h4>
                        <p style="color: #64748b; font-size: 14px;">Support dorsal réglable</p>
                    </div>
                </div>
            `;
        }

        function updateWeight(type, weight, count) {
            if (!configurations[type].weights) {
                configurations[type].weights = {};
            }
            
            if (count > 0) {
                configurations[type].weights[weight] = parseInt(count);
            } else {
                delete configurations[type].weights[weight];
            }
            
            updateCategoryStatus(type);
        }

        function addBand() {
            const color = document.getElementById('bandColor').value;
            const resistance = document.getElementById('bandResistance').value;
            const count = document.getElementById('bandCount').value;
            
            if (resistance && count) {
                configurations.bands.items.push({
                    color: color,
                    resistance: parseFloat(resistance),
                    count: parseInt(count)
                });
                
                updateBandsList();
                updateCategoryStatus('bands');
                
                // Reset inputs
                document.getElementById('bandResistance').value = '';
                document.getElementById('bandCount').value = '1';
            }
        }

        function updateBandsList() {
            const container = document.getElementById('bandsList');
            container.innerHTML = configurations.bands.items.map((band, index) => `
                <div class="band-item">
                    <div class="band-color" style="background-color: ${band.color}"></div>
                    <div class="band-info">
                        <div class="band-resistance">${band.resistance}kg</div>
                        <div class="band-count">${band.count} élastique${band.count > 1 ? 's' : ''}</div>
                    </div>
                    <div class="band-remove" onclick="removeBand(${index})">
                        <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </div>
                </div>
            `).join('');
        }

        function removeBand(index) {
            configurations.bands.items.splice(index, 1);
            updateBandsList();
            updateCategoryStatus('bands');
        }

        function toggleBenchFeature(element, feature) {
            element.classList.toggle('active');
            
            if (!configurations.bench.features) {
                configurations.bench.features = {};
            }
            
            configurations.bench.features[feature] = element.classList.contains('active');
            updateCategoryStatus('bench');
        }

        function updateCategoryStatus(category) {
            const categoryElement = document.querySelector(`.equipment-category[onclick*="${category}"]`);
            const statusElement = categoryElement.querySelector('.equipment-status');
            
            let isConfigured = false;
            
            switch(category) {
                case 'barbell':
                case 'dumbbells':
                    isConfigured = Object.keys(configurations[category].weights || {}).length > 0;
                    break;
                case 'bands':
                    isConfigured = configurations.bands.items.length > 0;
                    break;
                case 'bench':
                    isConfigured = Object.values(configurations.bench.features || {}).some(v => v);
                    break;
            }
            
            configurations[category].configured = isConfigured;
            statusElement.textContent = isConfigured ? 'Configuré ✓' : 'Non configuré';
            statusElement.style.color = isConfigured ? '#10b981' : '#64748b';
            
            updateProgress();
        }

        function updateProgress() {
            const configured = Object.values(configurations).filter(c => c.configured).length;
            document.querySelector('.progress-count').textContent = `${configured} / 4`;
        }

        function addCustomWeight(type) {
            const weight = prompt('Poids personnalisé (kg):');
            if (weight && !isNaN(weight)) {
                const panel = document.getElementById(`panel-${type}`);
                const grid = panel.querySelector('.weight-grid');
                const customItem = document.createElement('div');
                customItem.className = 'weight-item';
                customItem.innerHTML = `
                    <div class="weight-value">${parseFloat(weight)}kg</div>
                    <input type="number" class="weight-input" placeholder="0" min="0" max="10" 
                           onchange="updateWeight('${type}', ${weight}, this.value)">
                `;
                grid.insertBefore(customItem, grid.lastElementChild);
            }
        }
    </script>
</body>
</html>